!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?"textContent":"innerText"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error("Error parsing "+h+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var h=a.getComputedStyle,i=h?function(a){return h(a,null)}:function(a){return a.currentStyle},j=d("transition"),k=d("transform"),l=j&&k,m=!!d("perspective"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[j],o=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var a={},b=0,c=o.length;c>b;b++){var e=o[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=p[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=i(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var g=this.layout.size;e-=c?g.paddingLeft:g.paddingRight,f-=d?g.paddingTop:g.paddingBottom,this.position.x=e,this.position.y=f},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];g=b.percentPosition&&!b.isHorizontal?g/a.width*100+"%":g+"px",c[e]=g,c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];k=b.percentPosition&&b.isHorizontal?k/a.height*100+"%":k+"px",c[i]=k,c[j]="",this.css(c),this.emitEvent("layout",[this])};var q=m?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=q(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=l?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r=k&&e.toDashed(k)+",opacity";g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(n,this,!1))},g.prototype.transition=g.prototype[j?"_transition":"_nonTransition"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},g.prototype.remove=function(){if(!j||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},g.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?("string"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.emitEvent(a+"Complete",[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d});;;(function($,window,undefined){'use strict';$.HoverDir=function(options,element){this.$el=$(element);this._init(options);};$.HoverDir.defaults={speed:300,easing:'ease',hoverDelay:0,inverse:false};$.HoverDir.prototype={_init:function(options){this.options=$.extend(true,{},$.HoverDir.defaults,options);this.transitionProp='all '+this.options.speed+'ms '+this.options.easing;this.support=Modernizr.csstransitions;this._loadEvents();},_loadEvents:function(){var self=this;this.$el.on('mouseenter.hoverdir, mouseleave.hoverdir',function(event){var $el=$(this),$hoverElem=$el.find('div'),direction=self._getDir($el,{x:event.pageX,y:event.pageY}),styleCSS=self._getStyle(direction);if(event.type==='mouseenter'){$hoverElem.hide().css(styleCSS.from);clearTimeout(self.tmhover);self.tmhover=setTimeout(function(){$hoverElem.show(0,function(){var $el=$(this);if(self.support){$el.css('transition',self.transitionProp);}
self._applyAnimation($el,styleCSS.to,self.options.speed);});},self.options.hoverDelay);}
else{if(self.support){$hoverElem.css('transition',self.transitionProp);}
clearTimeout(self.tmhover);self._applyAnimation($hoverElem,styleCSS.from,self.options.speed);}});},_getDir:function($el,coordinates){var w=$el.width(),h=$el.height(),x=(coordinates.x-$el.offset().left-(w/2))*(w>h?(h/w):1),y=(coordinates.y-$el.offset().top-(h/2))*(h>w?(w/h):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},_getStyle:function(direction){var fromStyle,toStyle,slideFromTop={left:'0px',top:'-100%'},slideFromBottom={left:'0px',top:'100%'},slideFromLeft={left:'-100%',top:'0px'},slideFromRight={left:'100%',top:'0px'},slideTop={top:'0px'},slideLeft={left:'0px'};switch(direction){case 0:fromStyle=!this.options.inverse?slideFromTop:slideFromBottom;toStyle=slideTop;break;case 1:fromStyle=!this.options.inverse?slideFromRight:slideFromLeft;toStyle=slideLeft;break;case 2:fromStyle=!this.options.inverse?slideFromBottom:slideFromTop;toStyle=slideTop;break;case 3:fromStyle=!this.options.inverse?slideFromLeft:slideFromRight;toStyle=slideLeft;break;};return{from:fromStyle,to:toStyle};},_applyAnimation:function(el,styleCSS,speed){$.fn.applyStyle=this.support?$.fn.css:$.fn.animate;el.stop().applyStyle(styleCSS,$.extend(true,[],{duration:speed+'ms'}));},};var logError=function(message){if(window.console){window.console.error(message);}};$.fn.hoverdir=function(options){var instance=$.data(this,'hoverdir');if(typeof options==='string'){var args=Array.prototype.slice.call(arguments,1);this.each(function(){if(!instance){logError("cannot call methods on hoverdir prior to initialization; "+"attempted to call method '"+options+"'");return;}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for hoverdir instance");return;}
instance[options].apply(instance,args);});}
else{this.each(function(){if(instance){instance._init();}
else{instance=$.data(this,'hoverdir',new $.HoverDir(options,this));}});}
return instance;};})(jQuery,window);;(function($){"use strict";var DEFAULT_OPTIONS={selector:'',dataattr:'src',background:false,each:null,eacherror:null,callback:null,timeout:5000};var init=function(_i,self,opts){var q=Queue.getInstance();var $this=$(self);var defaults=$.extend({},DEFAULT_OPTIONS,opts||{});var ns='_'+(''+(new Date()).valueOf()).slice(-7);var $elms;var len=0;if(defaults.selector===''&&$this.data(defaults.dataattr)){$elms=$this;len=1;}
else{$elms=$this.find([defaults.selector,'[data-',defaults.dataattr,']'].join(''));len=$elms.length;}
$this.data(ns,{each:defaults.each,eacherror:defaults.eacherror,callback:defaults.callback,isLoading:true,loadedImageCounter:0,length:len});if(len===0){finishImageLoad(self,ns);}
else{$elms.each(function(i,elm){q.add(buildImageLoadFunc(elm,self,ns,defaults.background,defaults.dataattr,defaults.timeout));});$this.on('loadImage.'+ns,onLoadImage);q.run();}
return self;};var onLoadImage=function(ev,elm,img,isError){var parent=ev.currentTarget;var defaults=$(parent).data(ev.namespace);if(!defaults.isLoading){return;}
if(isError){if(typeof defaults.eacherror==='function'){defaults.eacherror(elm);}
else{if(elm.parentNode!==null){elm.parentNode.removeChild(elm);}}}
else if(typeof defaults.each==='function'){defaults.each(elm,img);}
++defaults.loadedImageCounter;if(defaults.loadedImageCounter>=defaults.length){finishImageLoad(parent,ev.namespace);}};var finishImageLoad=function(parent,ns){var $parent=$(parent);var data=$parent.data();var callback=data[ns].callback;$parent.off('loadImage.'+ns,onLoadImage);delete data[ns];if(typeof callback==='function'){setTimeout(function(){callback(parent);},$.imageloader.queueInterval*2);}};var buildImageLoadFunc=function(elm,parent,namespace,isBg,attr,milsec_timeout){var $elm=$(elm);var src=$elm.data(attr);var hasFinished=false;var onFinishLoagImage=function(ev,img){$elm.removeAttr(['data-',attr].join(''));$(parent).triggerHandler('loadImage.'+namespace,[elm,img,(ev&&ev.type==='error')]);};return function(){var timer_handler;var $img=$('<img />');$img.bind('error',function(ev){hasFinished=true;clearTimeout(timer_handler);$(this).unbind('error').unbind('load');onFinishLoagImage(ev);}).bind('load',function(ev){hasFinished=true;clearTimeout(timer_handler);$(this).unbind('error').unbind('load');if(isBg){$elm.css('background-image',['url(',src,')'].join(''));}
else{$elm.attr('src',src);}
onFinishLoagImage(ev,$img[0]);}).attr('src',src);timer_handler=setTimeout(function(){if(hasFinished===false){$img.trigger('error');}},milsec_timeout);};};var _queue_instance_;var Queue={getInstance:function(){if(_queue_instance_ instanceof QueueImpl===false){_queue_instance_=new QueueImpl();}
return _queue_instance_;}};var QueueImpl=function(){this.index=0;this.queue=[];this.isRunning=false;};QueueImpl.prototype.add=function(func){if(typeof func!=='function'){throw new Error('you can only pass function.');}
this.queue.push(func);};QueueImpl.prototype.run=function(firenow){var run=$.proxy(this.run,this);firenow=firenow||false;if(this.isRunning&&!firenow){return;}
this.isRunning=true;this.queue[this.index++]();if(this.index<this.queue.length){setTimeout(function(){run(true);},$.imageloader.queueInterval);}
else{this.isRunning=false;}};$.imageloader={queueInterval:17};$.fn.imageloader=function(opts){return this.each(function(i,elm){init(i,elm,opts);});};})(jQuery);;;(function(window){'use strict';var docElem=window.document.documentElement;function getViewportH(){var client=docElem['clientHeight'],inner=window['innerHeight'];if(client<inner)
return inner;else
return client;}
function scrollY(){return window.pageYOffset||docElem.scrollTop;}
function getOffset(el){var offsetTop=0,offsetLeft=0;do{if(!isNaN(el.offsetTop)){offsetTop+=el.offsetTop;}
if(!isNaN(el.offsetLeft)){offsetLeft+=el.offsetLeft;}}while(el=el.offsetParent)
return{top:offsetTop,left:offsetLeft}}
function inViewport(el,h){var elH=el.offsetHeight,scrolled=scrollY(),viewed=scrolled+getViewportH(),elTop=getOffset(el).top,elBottom=elTop+elH,h=h||0;return(elTop+elH*h)<=viewed&&(elBottom-elH*h)>=scrolled;}
function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key];}}
return a;}
function AnimOnScroll(el,options){this.el=el;this.options=extend(this.defaults,options);this._init();}
if(navigator.appVersion.indexOf('MSIE 8')>0){var _slice=Array.prototype.slice;Array.prototype.slice=function(){if(this instanceof Array){return _slice.apply(this,arguments);}else{var result=[];var start=(arguments.length>=1)?arguments[0]:0;var end=(arguments.length>=2)?arguments[1]:this.length;for(var i=start;i<end;i++){result.push(this[i]);}
return result;}};}
AnimOnScroll.prototype={defaults:{minDuration:0,maxDuration:0,viewportFactor:0},_init:function(){this.items=Array.prototype.slice.call(document.querySelectorAll('#'+this.el.id+' > .item'));this.itemsCount=this.items.length;this.itemsRenderedCount=0;this.didScroll=false;var self=this;imagesLoaded(this.el,function(){tiles=$('#tiles');tiles.masonry({itemSelector:'.item',stamp:'.stamp',columnWidth:300,gutter:20,isFitWidth:true,transitionDuration:0});tiles.infinitescroll({itemSelector:'.item',loading:{finishedMsg:'No more pages to load.'}},function(newElements){var $newElems=$(newElements);tiles.masonry('appended',$newElems);$newElems.addClass('animate');$('.tiles-pane').jScrollPane().bind('jsp-scroll-y',function(event,scrollPositionY,isAtTop,isAtBottom){if(isAtBottom){$('.tiles-pane').unbind('jsp-scroll-y');tiles.infinitescroll('retrieve');}});IDSapp.rolloverEffect();IDSapp.rolloverAction();});if(Modernizr.cssanimations){self.items.forEach(function(el,i){if(inViewport(el)){self._checkTotalRendered();classie.add(el,'shown');}});window.addEventListener('scroll',function(){self._onScrollFn();},false);window.addEventListener('resize',function(){self._resizeHandler();},false);}});},_onScrollFn:function(){var self=this;if(!this.didScroll){this.didScroll=true;setTimeout(function(){self._scrollPage();},60);}},_scrollPage:function(){var self=this;this.items.forEach(function(el,i){if(!classie.has(el,'shown')&&!classie.has(el,'animate')&&inViewport(el,self.options.viewportFactor)){setTimeout(function(){var perspY=scrollY()+getViewportH()/2;self.el.style.WebkitPerspectiveOrigin='50% '+perspY+'px';self.el.style.MozPerspectiveOrigin='50% '+perspY+'px';self.el.style.perspectiveOrigin='50% '+perspY+'px';self._checkTotalRendered();if(self.options.minDuration&&self.options.maxDuration){var randDuration=(Math.random()*(self.options.maxDuration-self.options.minDuration)+self.options.minDuration)+'s';el.style.WebkitAnimationDuration=randDuration;el.style.MozAnimationDuration=randDuration;el.style.animationDuration=randDuration;}
classie.add(el,'animate');},25);}});this.didScroll=false;},_resizeHandler:function(){var self=this;function delayed(){self._scrollPage();self.resizeTimeout=null;}
if(this.resizeTimeout){clearTimeout(this.resizeTimeout);}
this.resizeTimeout=setTimeout(delayed,1000);},_checkTotalRendered:function(){++this.itemsRenderedCount;if(this.itemsRenderedCount===this.itemsCount){window.removeEventListener('scroll',this._onScrollFn);}}}
window.AnimOnScroll=AnimOnScroll;})(window);;(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});;(function($){var $window=$(window);var windowHeight=$window.height();$window.resize(function(){windowHeight=$window.height();});$.fn.parallax=function(xpos,speedFactor,outerHeight){var $this=$(this);var getHeight;var firstTop;var paddingTop=0;$this.each(function(){firstTop=$this.offset().top;});if(outerHeight){getHeight=function(jqo){return jqo.outerHeight(true);};}else{getHeight=function(jqo){return jqo.height();};}
if(arguments.length<1||xpos===null)
xpos="50%";if(arguments.length<2||speedFactor===null)
speedFactor=0.1;if(arguments.length<3||outerHeight===null)
outerHeight=true;function update(){var pos=$window.scrollTop();$this.each(function(){var $element=$(this);var top=$element.offset().top;var height=getHeight($element);if(top+height<pos||top>pos+windowHeight){return;}
$this.css('backgroundPosition',xpos+" "+Math.round((firstTop-pos)*speedFactor)+"px");});}
$window.bind('scroll',update).resize(update);update();};})(jQuery);;if($('#canvas').length){var yourScore=$('#score span');var score=0;var Pool=(function()
{var create=function(type,size)
{var obj=Object.create(def);obj.init(type,size);return obj;};var def={_type:null,_size:null,_pointer:null,_elements:null,init:function(type,size)
{this._type=type;this._size=size;this._pointer=size;this._elements=[];var i=0;var length=this._size;for(i;i<length;++i)
{this._elements[i]=this._type.create();}},getElement:function()
{if(this._pointer>0)
return this._elements[--this._pointer];return null;},disposeElement:function(obj)
{this._elements[this._pointer++]=obj;}};return{create:create};}());var Vec2D=(function()
{var create=function(x,y)
{var obj=Object.create(def);obj.setXY(x,y);return obj;};var def={_x:1,_y:0,getX:function()
{return this._x;},setX:function(value)
{this._x=value;},getY:function()
{return this._y;},setY:function(value)
{this._y=value;},setXY:function(x,y)
{this._x=x;this._y=y;},getLength:function()
{return Math.sqrt(this._x*this._x+this._y*this._y);},setLength:function(length)
{var angle=this.getAngle();this._x=Math.cos(angle)*length;this._y=Math.sin(angle)*length;},getAngle:function()
{return Math.atan2(this._y,this._x);},setAngle:function(angle)
{var length=this.getLength();this._x=Math.cos(angle)*length;this._y=Math.sin(angle)*length;},add:function(vector)
{this._x+=vector.getX();this._y+=vector.getY();},sub:function(vector)
{this._x-=vector.getX();this._y-=vector.getY();},mul:function(value)
{this._x*=value;this._y*=value;},div:function(value)
{this._x/=value;this._y/=value;}};return{create:create};}());var Particle=(function()
{var create=function()
{var obj=Object.create(def);obj.radius=2;obj.color='#FFF';obj.lifeSpan=0;obj.fric=0.98;obj.pos=Vec2D.create(0,0);obj.vel=Vec2D.create(0,0);obj.blacklisted=false;return obj;};var def={radius:null,color:null,lifeSpan:null,fric:null,pos:null,vel:null,blacklisted:null,update:function()
{this.pos.add(this.vel);this.vel.mul(this.fric);this.radius-=0.1;if(this.radius<0.1)
this.radius=0.1;if(this.lifeSpan--<0)
{this.blacklisted=true;}},reset:function()
{this.blacklisted=false;}};return{create:create};}());var Bullet=(function()
{var create=function()
{var obj=Object.create(def);obj.radius=4;obj.color='#FFF';obj.pos=Vec2D.create(0,0);obj.vel=Vec2D.create(0,0);obj.blacklisted=false;return obj;};var def={radius:null,color:null,pos:null,vel:null,blacklisted:null,update:function()
{this.pos.add(this.vel);},reset:function()
{this.blacklisted=false;}};return{create:create};}());var Asteroid=(function()
{var create=function()
{var obj=Object.create(def);obj.radius=40;obj.color='#00a8ff';obj.pos=Vec2D.create(0,0);obj.vel=Vec2D.create(0,0);obj.blacklisted=false;obj.type='b';obj.sides=(Math.random()*2+7)>>0;obj.angle=0;obj.angleVel=(1-Math.random()*2)*0.01;return obj;};var def={radius:null,color:null,pos:null,vel:null,blacklisted:null,type:null,sides:null,angle:null,angleVel:null,update:function()
{this.pos.add(this.vel);this.angle+=this.angleVel;},reset:function()
{this.blacklisted=false;}};return{create:create};}());var Ship=(function()
{var create=function(x,y,ref)
{var obj=Object.create(def);obj.ref=ref;obj.angle=0;obj.pos=Vec2D.create(x,y);obj.vel=Vec2D.create(0,0);obj.thrust=Vec2D.create(0,0);obj.idle=false;obj.radius=8;obj.idleDelay=0;return obj;};var def={angle:null,pos:null,vel:null,thrust:null,ref:null,bulletDelay:null,idle:null,radius:null,update:function()
{this.vel.add(this.thrust);this.pos.add(this.vel);if(this.vel.getLength()>5)
this.vel.setLength(5);++this.bulletDelay;if(this.idle)
{if(++this.idleDelay>120)
{this.idleDelay=0;this.idle=false;this.ref.resetGame();}}},shoot:function()
{if(this.bulletDelay>8)
{this.ref.generateShot();this.bulletDelay=0;}}};return{create:create};}());var canvas;var context;var screenWidth;var screenHeight;var doublePI=Math.PI*2;var ship;var particlePool;var particles;var bulletPool;var bullets;var asteroidPool;var asteroids;var hScan;var asteroidVelFactor=0;var keyLeft=false;var keyUp=false;var keyRight=false;var keyDown=false;var keySpace=false;window.getAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback)
{window.setTimeout(callback,16.6);};window.onload=function()
{canvas=document.getElementById('canvas');context=canvas.getContext('2d');window.onresize();keyboardInit();particleInit();bulletInit();asteroidInit();shipInit();loop();};window.onresize=function()
{if(!canvas)
return;screenWidth=canvas.clientWidth;screenHeight=canvas.clientHeight;canvas.width=screenWidth;canvas.height=screenHeight;hScan=(screenHeight/4)>>0;};function keyboardInit()
{window.onkeydown=function(e)
{switch(e.keyCode)
{case 65:case 37:keyLeft=true;break;case 87:case 38:keyUp=true;break;case 68:case 39:keyRight=true;break;case 83:case 40:keyDown=true;break;case 32:case 75:keySpace=true;break;}
e.preventDefault();};window.onkeyup=function(e)
{switch(e.keyCode)
{case 65:case 37:keyLeft=false;break;case 87:case 38:keyUp=false;break;case 68:case 39:keyRight=false;break;case 83:case 40:keyDown=false;break;case 75:case 32:keySpace=false;break;}
e.preventDefault();};}
function particleInit()
{particlePool=Pool.create(Particle,100);particles=[];}
function bulletInit()
{bulletPool=Pool.create(Bullet,40);bullets=[];}
function asteroidInit()
{asteroidPool=Pool.create(Asteroid,30);asteroids=[];}
function shipInit()
{ship=Ship.create(screenWidth>>1,screenHeight>>1,this);}
function loop()
{updateShip();updateParticles();updateBullets();updateAsteroids();checkCollisions();render();getAnimationFrame(loop);}
function updateShip()
{ship.update();if(ship.idle)
return;if(keySpace)
ship.shoot();if(keyLeft)
ship.angle-=0.1;if(keyRight)
ship.angle+=0.1;if(keyUp)
{ship.thrust.setLength(0.1);ship.thrust.setAngle(ship.angle);generateThrustParticle();}else
{ship.vel.mul(0.94);ship.thrust.setLength(0);}
if(ship.pos.getX()>screenWidth)
ship.pos.setX(0);else if(ship.pos.getX()<0)
ship.pos.setX(screenWidth);if(ship.pos.getY()>screenHeight)
ship.pos.setY(0);else if(ship.pos.getY()<0)
ship.pos.setY(screenHeight);}
function generateThrustParticle()
{var p=particlePool.getElement();if(!p)
return;p.radius=Math.random()*3+2;p.color='#FFF';p.lifeSpan=80;p.pos.setXY(ship.pos.getX()+Math.cos(ship.angle)*-14,ship.pos.getY()+Math.sin(ship.angle)*-14);p.vel.setLength(8/p.radius);p.vel.setAngle(ship.angle+(1-Math.random()*2)*(Math.PI/18));p.vel.mul(-1);particles[particles.length]=p;}
function updateParticles()
{var i=particles.length-1;for(i;i>-1;--i)
{var p=particles[i];if(p.blacklisted)
{p.reset();particles.splice(particles.indexOf(p),1);particlePool.disposeElement(p);continue;}
p.update();}}
function updateBullets()
{var i=bullets.length-1;for(i;i>-1;--i)
{var b=bullets[i];if(b.blacklisted)
{b.reset();bullets.splice(bullets.indexOf(b),1);bulletPool.disposeElement(b);continue;}
b.update();if(b.pos.getX()>screenWidth)
b.blacklisted=true;else if(b.pos.getX()<0)
b.blacklisted=true;if(b.pos.getY()>screenHeight)
b.blacklisted=true;else if(b.pos.getY()<0)
b.blacklisted=true;}}
function updateAsteroids()
{var i=asteroids.length-1;for(i;i>-1;--i)
{var a=asteroids[i];if(a.blacklisted)
{a.reset();asteroids.splice(asteroids.indexOf(a),1);asteroidPool.disposeElement(a);continue;}
a.update();if(a.pos.getX()>screenWidth+a.radius)
a.pos.setX(-a.radius);else if(a.pos.getX()<-a.radius)
a.pos.setX(screenWidth+a.radius);if(a.pos.getY()>screenHeight+a.radius)
a.pos.setY(-a.radius);else if(a.pos.getY()<-a.radius)
a.pos.setY(screenHeight+a.radius);}
if(asteroids.length<5)
{var factor=(Math.random()*2)>>0;generateAsteroid(screenWidth*factor,screenHeight*factor,60,'b');}}
function generateAsteroid(x,y,radius,type)
{var a=asteroidPool.getElement();if(!a)
return;a.radius=radius;a.type=type;a.pos.setXY(x,y);a.vel.setLength(1+asteroidVelFactor);a.vel.setAngle(Math.random()*(Math.PI*2));asteroids[asteroids.length]=a;asteroidVelFactor+=0.025;}
function checkCollisions()
{checkBulletAsteroidCollisions();checkShipAsteroidCollisions();}
function checkBulletAsteroidCollisions()
{var i=bullets.length-1;var j;for(i;i>-1;--i)
{j=asteroids.length-1;for(j;j>-1;--j)
{var b=bullets[i];var a=asteroids[j];if(checkDistanceCollision(b,a))
{b.blacklisted=true;destroyAsteroid(a);}}}}
function checkShipAsteroidCollisions()
{var i=asteroids.length-1;for(i;i>-1;--i)
{var a=asteroids[i];var s=ship;if(checkDistanceCollision(a,s))
{if(s.idle)
return;s.idle=true;generateShipExplosion();destroyAsteroid(a);}}}
function generateShipExplosion()
{var i=18;for(i;i>-1;--i)
{var p=particlePool.getElement();if(!p)
return;p.radius=Math.random()*6+2;p.lifeSpan=80;p.color='#FFF';p.vel.setLength(20/p.radius);p.vel.setAngle(ship.angle+(1-Math.random()*2)*doublePI);p.pos.setXY(ship.pos.getX()+Math.cos(p.vel.getAngle())*(ship.radius*0.8),ship.pos.getY()+Math.sin(p.vel.getAngle())*(ship.radius*0.8));particles[particles.length]=p;}}
function checkDistanceCollision(obj1,obj2)
{var vx=obj1.pos.getX()-obj2.pos.getX();var vy=obj1.pos.getY()-obj2.pos.getY();var vec=Vec2D.create(vx,vy);if(vec.getLength()<obj1.radius+obj2.radius)
{return true;}
return false;}
function destroyAsteroid(asteroid)
{asteroid.blacklisted=true;generateAsteroidExplosion(asteroid);resolveAsteroidType(asteroid);yourScore.html(score);}
function generateAsteroidExplosion(asteroid)
{var i=18;for(i;i>-1;--i)
{var p=particlePool.getElement();if(!p)
return;p.radius=Math.random()*(asteroid.radius>>2)+2;p.lifeSpan=80;p.color='#00a8ff';p.vel.setLength(20/p.radius);p.vel.setAngle(ship.angle+(1-Math.random()*2)*doublePI);p.pos.setXY(asteroid.pos.getX()+Math.cos(p.vel.getAngle())*(asteroid.radius*0.8),asteroid.pos.getY()+Math.sin(p.vel.getAngle())*(asteroid.radius*0.8));particles[particles.length]=p;}}
function resolveAsteroidType(asteroid)
{switch(asteroid.type)
{case'b':score+=20;generateAsteroid(asteroid.pos.getX(),asteroid.pos.getY(),40,'m');generateAsteroid(asteroid.pos.getX(),asteroid.pos.getY(),40,'m');break;case'm':score+=50;generateAsteroid(asteroid.pos.getX(),asteroid.pos.getY(),20,'s');generateAsteroid(asteroid.pos.getX(),asteroid.pos.getY(),20,'s');break;default:score+=100;}}
function render()
{context.fillStyle='#262626';context.globalAlpha=0.4;context.fillRect(0,0,screenWidth,screenHeight);context.globalAlpha=1;renderShip();renderParticles();renderBullets();renderAsteroids();renderScanlines();}
function renderShip()
{if(ship.idle)
return;context.save();context.translate(ship.pos.getX()>>0,ship.pos.getY()>>0);context.rotate(ship.angle);context.strokeStyle='#FFF';context.lineWidth=(Math.random()>0.9)?2:1;context.beginPath();context.moveTo(10,0);context.lineTo(-10,-10);context.lineTo(-10,10);context.lineTo(10,0);context.stroke();context.closePath();context.restore();}
function renderParticles()
{var i=particles.length-1;for(i;i>-1;--i)
{var p=particles[i];context.beginPath();context.strokeStyle=p.color;context.arc(p.pos.getX()>>0,p.pos.getY()>>0,p.radius,0,doublePI);if(Math.random()>0.4)
context.stroke();context.closePath();}}
function renderBullets()
{var i=bullets.length-1;for(i;i>-1;--i)
{var b=bullets[i];context.beginPath();context.strokeStyle=b.color;context.arc(b.pos.getX()>>0,b.pos.getY()>>0,b.radius,0,doublePI);if(Math.random()>0.2)
context.stroke();context.closePath();}}
function renderAsteroids()
{var i=asteroids.length-1;for(i;i>-1;--i)
{var a=asteroids[i];context.beginPath();context.lineWidth=(Math.random()>0.2)?4:3;context.strokeStyle=a.color;var j=a.sides;context.moveTo((a.pos.getX()+Math.cos(doublePI*(j/a.sides)+a.angle)*a.radius)>>0,(a.pos.getY()+Math.sin(doublePI*(j/a.sides)+a.angle)*a.radius)>>0);for(j;j>-1;--j)
{context.lineTo((a.pos.getX()+Math.cos(doublePI*(j/a.sides)+a.angle)*a.radius)>>0,(a.pos.getY()+Math.sin(doublePI*(j/a.sides)+a.angle)*a.radius)>>0);}
if(Math.random()>0.2)
context.stroke();context.closePath();}}
function renderScanlines()
{var i=hScan;context.globalAlpha=0.05;context.lineWidth=1;for(i;i>-1;--i)
{context.beginPath();context.moveTo(0,i*4);context.lineTo(screenWidth,i*4);context.strokeStyle=(Math.random()>0.0001)?'#FFF':'#222';context.stroke();}
context.globalAlpha=1;}
function generateShot()
{var b=bulletPool.getElement();if(!b)
return;b.radius=1;b.pos.setXY(ship.pos.getX()+Math.cos(ship.angle)*14,ship.pos.getY()+Math.sin(ship.angle)*14);b.vel.setLength(10);b.vel.setAngle(ship.angle);bullets[bullets.length]=b;}
function resetGame()
{asteroidVelFactor=0;ship.pos.setXY(screenWidth>>1,screenHeight>>1);ship.vel.setXY(0,0);score=0;yourScore.html(score);resetAsteroids();}
function resetAsteroids()
{var i=asteroids.length-1;for(i;i>-1;--i)
{var a=asteroids[i];a.blacklisted=true;}}};var IDSanim={init:function(){if($('#blog-details .top').length){IDSanim.headerBlog();IDSanim.blogEffect();}
IDSanim.parallaxInit();$(window).scroll(IDSanim.revealElem);},loaded:function(){if($('#showcase').length){IDSanim.headerShowcase();}
IDSanim.revealElem();IDSanim.servicesAnim();IDSanim.textAnim();},showContent:function(){$('.content, .onepage-pagination').addClass('show');},headerShowcase:function(){var win=$(window);var ws=$(window).scrollTop();var info=$('.info');var itop=info.offset().top;var imgs=$('.images');var imgtop=imgs.offset().top;var boxes=$('.img-wrap img');var header=$('header');var logo=$('#logo-single, header a#menu-btn div.stripes span');var logoInit=$('#get-color').data('headerlogo');var logoImg;var elems=$('header ul li, header ul li a, header a#menu-btn');var initColor=$('#get-color').data('headerbg');var imgColor;var textColorInit=$('#get-color').data('headercolor');var textColorImg;setTimeout(function(){header.addClass('stop-anim');},400);win.on('scroll',function(){ws=$(window).scrollTop();if(ws>=imgtop){boxes.each(function(){var self=$(this);var soff=self.offset().top;imgColor=self.parents('.img-wrap').data('headerbg');logoImg=self.parents('.img-wrap').data('headerlogo');textColorImg=self.parents('.img-wrap').data('headercolor');if(soff<=ws){header.stop().animate({backgroundColor:'rgba('+imgColor+',0.5)'},200).removeClass('dark-theme');logo.css({backgroundColor:'rgb('+logoImg+')'});elems.css({'color':'rgb('+textColorImg+')'});}});}else{if(ws>=itop&&ws<imgtop){header.stop().animate({backgroundColor:'rgba(255,255,255,0.93)'},200).addClass('dark-theme');}else{header.stop().animate({backgroundColor:'rgba('+initColor+',0.5)'},200).removeClass('dark-theme');logo.css({backgroundColor:'rgb('+logoInit+')'});elems.css({'color':'rgb('+textColorInit+')'});}}});},headerBlog:function(){var win=$(window);var ws=$(window).scrollTop();var info=$('.info');var itop=info.offset().top;var backgroundColorThief=new BackgroundColorTheif();var rgb=[255,255,255];imagesLoaded(document.querySelector('#get-color'),function(){rgb=backgroundColorThief.getBackGroundColor(document.getElementById("color-thief"));$('header').animate({backgroundColor:'rgba('+rgb[0]+','+rgb[1]+','+rgb[2]+',0.25)'},200);setTimeout(function(){$('header').addClass('stop-anim');},400);});win.on('scroll',function(){ws=$(window).scrollTop();if(ws>=itop){$('header').stop().animate({backgroundColor:'rgba(255,255,255,0.93)'},200).addClass('dark-theme');}else{$('header').stop().animate({backgroundColor:'rgba('+rgb[0]+','+rgb[1]+','+rgb[2]+',0.25)'},200).removeClass('dark-theme');}});},checkScroll:function(w,i){clearTimeout($.data(this,'scrollTimer'));i.removeClass('down');if(w.scrollTop()>0){i.addClass('bg');$.data(this,'scrollTimer',setTimeout(function(){i.addClass('down');},2000));}else{i.removeClass('bg down');}},floatingElements:function(){$('body').zlayer([{layer:'.service-img1',mass:60,force:'pull',reposition:false}]);$('body').zlayer([{layer:'.service-img2',mass:20,force:'pull',reposition:false}]);},blogEffect:function(){imagesLoaded('#blog-details div.top',function(){var fading=$('div.top div.img-nest');var fadeStart=0;var fadeUntil=fading.height();var offset=$(document).scrollTop();var opacity=1-offset/fadeUntil;var scale=1+offset/fadeUntil/3;var marg=offset/fadeUntil*100;if(offset>0){fading.css({'transform':'scale('+scale+')','opacity':opacity,bottom:-marg});}
$(window).on('scroll',function(){offset=$(document).scrollTop();var opacity=0;var scale=1.5;var marg=0;if(offset<=fadeStart){opacity=1;scale=1;marg=0;}else if(offset<=fadeUntil){opacity=1-offset/fadeUntil;scale=1+offset/fadeUntil/3;marg=offset/fadeUntil*100;}
fading.css({'transform':'scale('+scale+')','opacity':opacity,bottom:-marg});});});},parallaxInit:function(){$('.parallax').each(function(){var self=$(this);var speed=self.data('speed');if(self.hasClass('left')){$(this).parallax('0',speed);}else{$(this).parallax('100%',speed);}});},revealElem:function(){$('.hideme').each(function(i){var bottom_of_object=$(this).offset().top+($(this).outerHeight()/2);var bottom_of_window=$(window).scrollTop()+$(window).height();if(bottom_of_window>bottom_of_object){$(this).removeClass('hideme');}});},servicesAnim:function(){$('#services .anim, #services-details .anim').removeClass('anim');},textAnim:function(){$('#home article:first').removeClass('before-anim');}};$(document).ready(IDSanim.init);$(window).load(IDSanim.loaded);;var IDSsizing={init:function(){IDSsizing.wrapHeight();},loaded:function(){IDSsizing.pagerPos();IDSsizing.slidePos();},resized:function(){IDSsizing.wrapHeight();IDSsizing.pagerPos();IDSsizing.slidePos();},wrapHeight:function(){var wh=$(window).height();var wrap=$('#wrap, #contact');wrap.height(wh);},pagerPos:function(){var pager=$('ul.onepage-pagination, .swiper-pagination');var PH=pager.outerHeight()/2;pager.css({'margin-top':-PH});},slidePos:function(){var wrap=$('#main');var ind=$('#main .section.active').index();var s=ind*100;wrap.css({top:-s+"%"});},tileResize:function(){var box=$('.tiles div.item:not(.big, .long, .wide)');if(box.height()<230){box.addClass('sized');}else{box.removeClass('sized');}},tilesSize:function(){var hh=$('header').outerHeight();wall.fitHeight($(window).height()-hh);},wallSize:function(){setTimeout(function(){var t=$('#tiles');var w=t.attr('data-wall-width');t.width(w);$('.layout').mThumbnailScroller("update");},1000);}};$(document).ready(IDSsizing.init);$(window).load(IDSsizing.loaded);$(window).on('resize',IDSsizing.resized);;var IDSplugins={init:function(){if($('#showcase').length||$('#blog-details .top').length){IDSplugins.imgLoading();}
IDSplugins.checkboxStyle();IDSplugins.fileStyle();IDSplugins.tilesPreload();IDSplugins.infoSlider();IDSplugins.slickCarousel();},loaded:function(){IDSplugins.marquee();},imgLoading:function(img){imagesLoaded(document.querySelector('.images'),function(){$('.images img').each(function(){var self=$(this);self.fadeIn(600,function(){self.parents('div.img-wrap').addClass('loaded');});});});},checkboxStyle:function(){if($('input[type="checkbox"]').length){$('input[type="checkbox"]').prettyCheckable();}},fileStyle:function(e){$('input[type="file"]').each(function(){$(this).customFileInput();});},tilesPreload:function(){if($('.tiles').length){$('.item').imageloader({background:true,callback:function(elm){$(elm).fadeIn();}});}},infoSlider:function(){var opt={pager:false,prevSelector:'.info-left',nextSelector:'.info-right'};$('.info-slider').bxSlider(opt);},slickCarousel:function(){$('.slick').slick({infinite:true,speed:500,slidesToShow:7,slidesToScroll:3,responsive:[{breakpoint:1600,settings:{slidesToShow:6,slidesToScroll:3}},{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:479,settings:{slidesToShow:3,slidesToScroll:3}}]});},marquee:function(){$("#testimonials ul.imgs").simplyScroll({frameRate:30,speed:2});},bgVideo:function(){$('#home article:first div.bg').tubular({videoId:'McQApbsBlbM',wrapperZIndex:1,});},dragInit:function(){$('.layout').mThumbnailScroller({axis:"x",speed:30});}};$(document).ready(IDSplugins.init);$(window).load(IDSplugins.loaded);;var tiles;var IDStiles={init:function(){IDStiles.tilesInit();$('.filter-btn').on('click',IDStiles.filters);},tilesInit:function(){if($('#tiles').length){new AnimOnScroll(document.getElementById('tiles'),{minDuration:0.4,maxDuration:0.7,viewportFactor:0.2});}},filters:function(){var self=$(this);var other=$('.filter-btn');var filter=self.data('filter');var cont=$('#tiles');if(self.hasClass('active')){self.removeClass('active');cont.removeClass('show-showcase show-blog').addClass('show-all show-showcase show-blog');}else{other.removeClass('active');self.addClass('active');cont.removeClass('show-all show-showcase show-blog').addClass(filter);}
tiles.masonry('destroy');tiles.masonry({itemSelector:'.item',stamp:'.stamp',columnWidth:300,gutter:20,isFitWidth:true,transitionDuration:0});var api=$('.tiles-pane').data('jsp');api.reinitialise();},infinite:function(){tiles.infinitescroll({itemSelector:'.item',loading:{finishedMsg:'No more pages to load.',img:'http://i.imgur.com/6RMhx.gif'}},function(newElements){var $newElems=$(newElements);tiles.masonry('appended',$newElems);});}};$(window).load(IDStiles.init);;var IDShome={init:function(){},loaded:function(){IDShome.startSlider();IDShome.startAnim();IDShome.zoomEffect($('.section.active'));IDSapp.getColor($('.section.active').data('bgcolor'));},startSlider:function(){var slider=$('.id-slider');var opt={mode:'fade',pager:false,controls:false};slider.bxSlider(opt);},getFirst:function(elem,callback){if(elem.parents('article').index()===0){callback;}},startAnim:function(){$('.section.active .caption, .section.active .right-side').removeClass('before-anim');},zoomEffect:function(elem){$('.section div.bg').removeClass('go');if($('.section.active div.bg').hasClass('zoom-in')||$('.section.active div.bg').hasClass('zoom-out')){elem.find('div.bg').addClass('go');}}};$(document).ready(IDShome.init);$(window).load(IDShome.loaded);